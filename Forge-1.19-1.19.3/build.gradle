buildscript {
    repositories {
        maven {
            name = "Forge"
            url = "https://maven.minecraftforge.net/"
        }
    }
    dependencies {
        classpath "net.minecraftforge.gradle:ForgeGradle:5.+"
    }
}

apply plugin: "net.minecraftforge.gradle"
apply plugin: "eclipse"
apply plugin: "idea"

java.toolchain.languageVersion = JavaLanguageVersion.of(17)

dependencies {
    minecraft "net.minecraftforge:forge:1.19-41.0.1"

    libs project(":Shared")
}

minecraft {
    mappings channel: "official", version: "1.19"

    // accessTransformer = file("src/main/resources/META-INF/accesstransformer.cfg") // Breaks build process?

    runs {
        client {
            workingDirectory project.file("run")

            property "forge.logging.markers", "SCAN,REGISTRIES,REGISTRYDUMP"
            property "forge.logging.console.level", "debug"
        }
    }
}

// Include resources generated by data generators.
sourceSets.main.resources {
    srcDir "src/generated/resources"
}

processResources {
    inputs.property "version", project.version

    filesMatching("META-INF/mods.toml") {
        expand "version": project.version
    }
}

jar.finalizedBy("reobfJar")
